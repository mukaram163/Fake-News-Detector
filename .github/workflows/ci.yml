name: Python CI Pipeline
on: [push, pull_request]
jobs:
build-and-test:
runs-on: ubuntu-latest

steps:
- name: Checkout Repository and LFS Files
  uses: actions/checkout@v4
  with:
    lfs: true

- name: Set up Python 3.10
  uses: actions/setup-python@v5
  with:
    python-version: '3.10'

- name: Install Dependencies
  run: |
    python -m pip install --upgrade pip
    pip install -r requirements.txt
    python -m nltk.downloader stopwords punkt wordnet

- name: Run Model Smoke Test
  run: |
    echo "Running prediction script to test model loading and execution..."
    PYTHONPATH=. python src/predict.py --model models/model.keras --text "This is a quick test of model loading."
