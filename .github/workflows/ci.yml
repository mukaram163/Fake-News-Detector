ame: Python CI Pipeline

on: [push, pull_request] # Simplified trigger syntax to avoid indentation issues

jobs:
build-and-test:
runs-on: ubuntu-latest

strategy:
  matrix:
    python-version: ['3.10']

steps:
- name: Checkout Repository and LFS Files
  uses: actions/checkout@v4
  with:
    lfs: true

- name: Set up Python ${{ matrix.python-version }}
  uses: actions/setup-python@v5
  with:
    python-version: ${{ matrix.python-version }}

- name: Install Dependencies
  run: |
    python -m pip install --upgrade pip
    pip install -r requirements.txt
    
- name: Download NLTK Data
  run: |
    python -m nltk.downloader stopwords punkt wordnet

- name: Run Model Smoke Test
  run: |
    echo "Running prediction script to test model loading and execution..."
    PYTHONPATH=. python src/predict.py --model models/model.keras --text "This is a quick test of model loading."
